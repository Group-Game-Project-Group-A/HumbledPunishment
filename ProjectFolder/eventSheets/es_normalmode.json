{
	"name": "ES_NormalMode",
	"events": [
		{
			"eventType": "include",
			"includeSheet": "ES_Combat"
		},
		{
			"eventType": "include",
			"includeSheet": "ES_Controls"
		},
		{
			"eventType": "variable",
			"name": "PreviousScenePlayerHealth",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 613194946589038
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "compare-eventvar",
					"objectClass": "System",
					"sid": 594207414630624,
					"parameters": {
						"variable": "EnemyCount",
						"comparison": 3,
						"value": "0"
					}
				},
				{
					"id": "compare-eventvar",
					"objectClass": "System",
					"sid": 857872901292035,
					"parameters": {
						"variable": "BobPresent",
						"comparison": 3,
						"value": "0"
					}
				},
				{
					"id": "compare-eventvar",
					"objectClass": "System",
					"sid": 181034629678820,
					"parameters": {
						"variable": "OrcBossPresent",
						"comparison": 3,
						"value": "0"
					}
				}
			],
			"actions": [
				{
					"id": "destroy",
					"objectClass": "Sprite2",
					"sid": 513781758362710
				},
				{
					"id": "set-cursor-style",
					"objectClass": "Mouse",
					"sid": 128251927830762,
					"parameters": {
						"cursor-style": "normal"
					}
				},
				{
					"id": "set-time-scale",
					"objectClass": "System",
					"sid": 607932968579771,
					"parameters": {
						"time-scale": "0"
					}
				},
				{
					"id": "set-visible",
					"objectClass": "WinBackground",
					"sid": 878612370661977,
					"parameters": {
						"visibility": "visible"
					}
				},
				{
					"id": "set-visible",
					"objectClass": "WinText",
					"sid": 927964487520231,
					"parameters": {
						"visibility": "visible"
					}
				},
				{
					"id": "set-visible",
					"objectClass": "WinButton",
					"sid": 686591283746010,
					"parameters": {
						"visibility": "visible"
					}
				},
				{
					"id": "set-enabled",
					"objectClass": "WinButton",
					"sid": 939016039654899,
					"parameters": {
						"mode": "enabled"
					}
				},
				{
					"id": "set-visible",
					"objectClass": "Vignette",
					"sid": 773808268184185,
					"parameters": {
						"visibility": "invisible"
					}
				},
				{
					"id": "set-boolean-eventvar",
					"objectClass": "System",
					"sid": 477450695170960,
					"parameters": {
						"variable": "isPaused",
						"value": "true"
					}
				}
			],
			"sid": 631443156937876,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-clicked",
							"objectClass": "WinButton",
							"sid": 665002609779857
						}
					],
					"actions": [
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 614666280761220,
							"parameters": {
								"variable": "isPaused",
								"value": "false"
							}
						},
						{
							"id": "set-time-scale",
							"objectClass": "System",
							"sid": 293743119537899,
							"parameters": {
								"time-scale": "1"
							}
						},
						{
							"id": "go-to-nextprevious-layout",
							"objectClass": "System",
							"sid": 162482732518001,
							"parameters": {
								"which": "next"
							}
						}
					],
					"sid": 590617268157015
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "compare-eventvar",
					"objectClass": "System",
					"sid": 636889890266814,
					"parameters": {
						"variable": "PlayerHealth",
						"comparison": 3,
						"value": "0"
					}
				}
			],
			"actions": [
				{
					"id": "destroy",
					"objectClass": "Sprite2",
					"sid": 814910173277046
				},
				{
					"id": "set-cursor-style",
					"objectClass": "Mouse",
					"sid": 524568609726443,
					"parameters": {
						"cursor-style": "normal"
					}
				},
				{
					"id": "set-time-scale",
					"objectClass": "System",
					"sid": 751299669319144,
					"parameters": {
						"time-scale": "0"
					}
				},
				{
					"id": "set-boolean-eventvar",
					"objectClass": "System",
					"sid": 338052485036871,
					"parameters": {
						"variable": "isPaused",
						"value": "true"
					}
				},
				{
					"id": "set-visible",
					"objectClass": "Vignette",
					"sid": 312717745347818,
					"parameters": {
						"visibility": "invisible"
					}
				},
				{
					"id": "set-boolean-eventvar",
					"objectClass": "System",
					"sid": 766756343916475,
					"parameters": {
						"variable": "isPaused",
						"value": "true"
					}
				},
				{
					"id": "set-visible",
					"objectClass": "LoseText",
					"sid": 833344120215518,
					"parameters": {
						"visibility": "visible"
					}
				},
				{
					"id": "set-visible",
					"objectClass": "LoseButton",
					"sid": 627762407186333,
					"parameters": {
						"visibility": "visible"
					}
				},
				{
					"id": "set-enabled",
					"objectClass": "LoseButton",
					"sid": 562758056925569,
					"parameters": {
						"mode": "enabled"
					}
				},
				{
					"id": "set-visible",
					"objectClass": "WinBackground",
					"sid": 122919549703392,
					"parameters": {
						"visibility": "visible"
					}
				}
			],
			"sid": 203299476511849,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-clicked",
							"objectClass": "LoseButton",
							"sid": 324712519183743
						}
					],
					"actions": [
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 794295340338003,
							"parameters": {
								"variable": "isPaused",
								"value": "false"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 228792487012524,
							"parameters": {
								"variable": "PlayerHealth",
								"value": "PreviousScenePlayerHealth"
							}
						},
						{
							"id": "go-to-nextprevious-layout",
							"objectClass": "System",
							"sid": 973780366074520,
							"parameters": {
								"which": "previous"
							}
						},
						{
							"id": "set-time-scale",
							"objectClass": "System",
							"sid": 229091459036409,
							"parameters": {
								"time-scale": "1.0"
							}
						}
					],
					"sid": 888222412926948
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "compare-eventvar",
					"objectClass": "System",
					"sid": 697021068314866,
					"parameters": {
						"variable": "PlayerHealth",
						"comparison": 2,
						"value": "PlayerMaxHealth"
					}
				}
			],
			"actions": [
				{
					"id": "set-animation-frame",
					"objectClass": "HP_Hearts",
					"sid": 618693204271804,
					"parameters": {
						"frame-number": "PlayerHealth"
					}
				}
			],
			"sid": 975534053823017
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-start-of-layout",
					"objectClass": "System",
					"sid": 303317906476837
				}
			],
			"actions": [
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 108275188379771,
					"parameters": {
						"variable": "PreviousScenePlayerHealth",
						"value": "PlayerHealth"
					}
				},
				{
					"id": "set-instvar-value",
					"objectClass": "Enemies",
					"sid": 181580798783734,
					"parameters": {
						"instance-variable": "StartSpeed",
						"value": "Enemies.MoveTo.MaxSpeed"
					}
				}
			],
			"sid": 843120722439767
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-key-pressed",
					"objectClass": "Keyboard",
					"sid": 312021935991038,
					"parameters": {
						"key": 27
					}
				}
			],
			"actions": [
				{
					"id": "toggle-boolean-eventvar",
					"objectClass": "System",
					"sid": 180595861871469,
					"parameters": {
						"variable": "isPaused"
					}
				},
				{
					"id": "set-visible",
					"objectClass": "PauseText",
					"sid": 938670064550429,
					"parameters": {
						"visibility": "toggle"
					}
				},
				{
					"id": "set-visible",
					"objectClass": "WinBackground",
					"sid": 658149937498107,
					"parameters": {
						"visibility": "toggle"
					}
				},
				{
					"id": "set-visible",
					"objectClass": "ResumeButton",
					"sid": 124469892617924,
					"parameters": {
						"visibility": "toggle"
					}
				}
			],
			"sid": 145594805252295
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "compare-boolean-eventvar",
					"objectClass": "System",
					"sid": 731387991249447,
					"parameters": {
						"variable": "isPaused"
					}
				}
			],
			"actions": [
				{
					"id": "set-time-scale",
					"objectClass": "System",
					"sid": 663633210701578,
					"parameters": {
						"time-scale": "0"
					}
				}
			],
			"sid": 739250889223534
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "compare-boolean-eventvar",
					"objectClass": "System",
					"sid": 475735728103288,
					"parameters": {
						"variable": "isPaused"
					},
					"isInverted": true
				}
			],
			"actions": [
				{
					"id": "set-time-scale",
					"objectClass": "System",
					"sid": 207985767419670,
					"parameters": {
						"time-scale": "1"
					}
				}
			],
			"sid": 790547909010089
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-clicked",
					"objectClass": "ResumeButton",
					"sid": 599249957934084
				}
			],
			"actions": [
				{
					"id": "set-boolean-eventvar",
					"objectClass": "System",
					"sid": 289790525577098,
					"parameters": {
						"variable": "isPaused",
						"value": "false"
					}
				},
				{
					"id": "set-visible",
					"objectClass": "PauseText",
					"sid": 103104511504583,
					"parameters": {
						"visibility": "invisible"
					}
				},
				{
					"id": "set-visible",
					"objectClass": "WinBackground",
					"sid": 834754100874726,
					"parameters": {
						"visibility": "invisible"
					}
				},
				{
					"id": "set-visible",
					"objectClass": "ResumeButton",
					"sid": 990393154280240,
					"parameters": {
						"visibility": "invisible"
					}
				}
			],
			"sid": 107064948573447
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "compare-animation-frame",
					"objectClass": "Spikes",
					"sid": 135142356362809,
					"parameters": {
						"comparison": 0,
						"number": "4"
					}
				}
			],
			"actions": [],
			"sid": 956086585660798,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-overlapping-another-object",
							"objectClass": "Player",
							"sid": 485647690342558,
							"parameters": {
								"object": "Spikes"
							}
						}
					],
					"actions": [],
					"sid": 513688000083348,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "trigger-once-while-true",
									"objectClass": "System",
									"sid": 847800396224283
								}
							],
							"actions": [
								{
									"id": "subtract-from-eventvar",
									"objectClass": "System",
									"sid": 929939481811881,
									"parameters": {
										"variable": "PlayerHealth",
										"value": "2"
									}
								},
								{
									"id": "spawn-another-object",
									"objectClass": "Player",
									"sid": 533343994291203,
									"parameters": {
										"object": "Dmg_Text",
										"layer": "0",
										"image-point": "0",
										"create-hierarchy": false
									}
								},
								{
									"id": "spawn-another-object",
									"objectClass": "Player",
									"sid": 233548885294478,
									"parameters": {
										"object": "Dmg_Text_BG",
										"layer": "0",
										"image-point": "0",
										"create-hierarchy": false
									}
								},
								{
									"id": "move-to-object",
									"objectClass": "Dmg_Text",
									"sid": 495000887977339,
									"parameters": {
										"where": "in-front",
										"object": "Player"
									}
								},
								{
									"id": "move-to-object",
									"objectClass": "Dmg_Text_BG",
									"sid": 249147899298472,
									"parameters": {
										"where": "in-front",
										"object": "Player"
									}
								},
								{
									"id": "set-text",
									"objectClass": "Dmg_Text",
									"sid": 558443688073803,
									"parameters": {
										"text": "2"
									}
								},
								{
									"id": "set-text",
									"objectClass": "Dmg_Text_BG",
									"sid": 251508954811549,
									"parameters": {
										"text": "2"
									}
								},
								{
									"id": "set-angle-of-motion",
									"objectClass": "Dmg_Text",
									"sid": 345199628065725,
									"behaviorType": "Bullet",
									"parameters": {
										"angle": "Dmg_Text.Bullet.AngleOfMotion + random(-15, 15)"
									}
								}
							],
							"sid": 487428322726455
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-overlapping-another-object",
							"objectClass": "Enemies",
							"sid": 199117060788985,
							"parameters": {
								"object": "Spikes"
							}
						}
					],
					"actions": [],
					"sid": 899486173830075,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "trigger-once-while-true",
									"objectClass": "System",
									"sid": 560317587108646
								}
							],
							"actions": [
								{
									"id": "subtract-from-instvar",
									"objectClass": "Enemies",
									"sid": 260719735391551,
									"parameters": {
										"instance-variable": "Health",
										"value": "2"
									}
								},
								{
									"id": "spawn-another-object",
									"objectClass": "Enemies",
									"sid": 590043196936209,
									"parameters": {
										"object": "Dmg_Text",
										"layer": "0",
										"image-point": "0",
										"create-hierarchy": false
									}
								},
								{
									"id": "spawn-another-object",
									"objectClass": "Enemies",
									"sid": 463963617681452,
									"parameters": {
										"object": "Dmg_Text_BG",
										"layer": "0",
										"image-point": "0",
										"create-hierarchy": false
									}
								},
								{
									"id": "move-to-object",
									"objectClass": "Dmg_Text",
									"sid": 751934334883259,
									"parameters": {
										"where": "in-front",
										"object": "Enemies"
									}
								},
								{
									"id": "move-to-object",
									"objectClass": "Dmg_Text_BG",
									"sid": 373537000799492,
									"parameters": {
										"where": "in-front",
										"object": "Enemies"
									}
								},
								{
									"id": "set-text",
									"objectClass": "Dmg_Text",
									"sid": 802117405264163,
									"parameters": {
										"text": "2"
									}
								},
								{
									"id": "set-text",
									"objectClass": "Dmg_Text_BG",
									"sid": 703321400691900,
									"parameters": {
										"text": "2"
									}
								},
								{
									"id": "set-angle-of-motion",
									"objectClass": "Dmg_Text",
									"sid": 472745216689058,
									"behaviorType": "Bullet",
									"parameters": {
										"angle": "Dmg_Text.Bullet.AngleOfMotion + random(-15, 15)"
									}
								}
							],
							"sid": 484879707003308
						}
					]
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-collision-with-another-object",
					"objectClass": "Spikes",
					"sid": 987916065638727,
					"parameters": {
						"object": "DashPaths"
					}
				}
			],
			"actions": [],
			"sid": 937716424110420,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 872911870701771,
							"parameters": {
								"variable": "Ice"
							}
						}
					],
					"actions": [],
					"sid": 154281606616718,
					"children": [
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "Spikes",
									"sid": 515716299024408,
									"parameters": {
										"animation": "\"Frozen\"",
										"from": "current-frame"
									}
								},
								{
									"id": "stop-animation",
									"objectClass": "Spikes",
									"sid": 171303334703841
								},
								{
									"id": "set-collisions-enabled",
									"objectClass": "Spikes",
									"sid": 694342831291096,
									"parameters": {
										"collisions": "disabled"
									}
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 703628244503044,
									"parameters": {
										"seconds": "1.0"
									}
								},
								{
									"id": "set-collisions-enabled",
									"objectClass": "Spikes",
									"sid": 282982741083807,
									"parameters": {
										"collisions": "enabled"
									}
								},
								{
									"id": "start-animation",
									"objectClass": "Spikes",
									"sid": 984895311034120,
									"parameters": {
										"from": "current-frame"
									}
								},
								{
									"id": "set-animation",
									"objectClass": "Spikes",
									"sid": 156642071151894,
									"parameters": {
										"animation": "\"On\"",
										"from": "current-frame"
									}
								}
							],
							"sid": 779173952370898
						}
					]
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-collision-with-another-object",
					"objectClass": "Player",
					"sid": 455564357139035,
					"parameters": {
						"object": "DoorCloser"
					}
				}
			],
			"actions": [],
			"sid": 139228943738778,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "DoorWalls",
							"sid": 468571142702274,
							"parameters": {
								"instance-variable": "Door",
								"comparison": 0,
								"value": "DoorCloser.Door"
							}
						}
					],
					"actions": [],
					"sid": 741129768983404,
					"children": [
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-visible",
									"objectClass": "DoorWalls",
									"sid": 573556312864665,
									"parameters": {
										"visibility": "visible"
									}
								},
								{
									"id": "set-collisions-enabled",
									"objectClass": "DoorWalls",
									"sid": 260413418141919,
									"parameters": {
										"collisions": "enabled"
									}
								}
							],
							"sid": 721458601107839
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "DoorBlock",
							"sid": 230259676672176,
							"parameters": {
								"instance-variable": "Door",
								"comparison": 0,
								"value": "DoorCloser.Door"
							}
						}
					],
					"actions": [
						{
							"id": "set-collisions-enabled",
							"objectClass": "DoorBlock",
							"sid": 215892358130583,
							"parameters": {
								"collisions": "enabled"
							}
						}
					],
					"sid": 173031085908618
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Melee_Enemy_Minor",
							"sid": 424081720459680,
							"parameters": {
								"instance-variable": "Area",
								"comparison": 0,
								"value": "DoorCloser.Door"
							}
						}
					],
					"actions": [
						{
							"id": "set-range",
							"objectClass": "Melee_Enemy_Minor",
							"sid": 350083007699907,
							"behaviorType": "LineOfSight",
							"parameters": {
								"range": "10000"
							}
						}
					],
					"sid": 326454855759108
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Ranged_Enemy_Minor",
							"sid": 966860285438257,
							"parameters": {
								"instance-variable": "Area",
								"comparison": 0,
								"value": "DoorCloser.Door"
							}
						}
					],
					"actions": [
						{
							"id": "set-range",
							"objectClass": "Ranged_Enemy_Minor",
							"sid": 784509127364765,
							"behaviorType": "LineOfSight",
							"parameters": {
								"range": "10000"
							}
						}
					],
					"sid": 316864553112660
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "compare-eventvar",
					"objectClass": "System",
					"sid": 264442416614156,
					"parameters": {
						"variable": "EnemyCount",
						"comparison": 3,
						"value": "1"
					}
				}
			],
			"actions": [],
			"sid": 741864926239777,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "DoorBlock",
							"sid": 149023617423365,
							"parameters": {
								"instance-variable": "Door",
								"comparison": 0,
								"value": "5"
							}
						}
					],
					"actions": [
						{
							"id": "set-collisions-enabled",
							"objectClass": "DoorBlock",
							"sid": 488109652772032,
							"parameters": {
								"collisions": "disabled"
							}
						}
					],
					"sid": 406391685766187
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "DoorWalls",
							"sid": 593574258183696,
							"parameters": {
								"instance-variable": "Door",
								"comparison": 0,
								"value": "5"
							}
						}
					],
					"actions": [
						{
							"id": "set-visible",
							"objectClass": "DoorWalls",
							"sid": 833881073510697,
							"parameters": {
								"visibility": "invisible"
							}
						},
						{
							"id": "set-collisions-enabled",
							"objectClass": "DoorWalls",
							"sid": 233640144450335,
							"parameters": {
								"collisions": "disabled"
							}
						}
					],
					"sid": 122446588102995
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "compare-eventvar",
					"objectClass": "System",
					"sid": 588846465819764,
					"parameters": {
						"variable": "EnemyCount",
						"comparison": 3,
						"value": "11"
					}
				}
			],
			"actions": [],
			"sid": 161009810685882,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "DoorBlock",
							"sid": 888778361992143,
							"parameters": {
								"instance-variable": "Door",
								"comparison": 0,
								"value": "3"
							}
						}
					],
					"actions": [
						{
							"id": "set-collisions-enabled",
							"objectClass": "DoorBlock",
							"sid": 315360787969672,
							"parameters": {
								"collisions": "disabled"
							}
						}
					],
					"sid": 991858631834969
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "DoorWalls",
							"sid": 774634544792195,
							"parameters": {
								"instance-variable": "Door",
								"comparison": 0,
								"value": "3"
							}
						}
					],
					"actions": [
						{
							"id": "set-visible",
							"objectClass": "DoorWalls",
							"sid": 391712554788591,
							"parameters": {
								"visibility": "invisible"
							}
						},
						{
							"id": "set-collisions-enabled",
							"objectClass": "DoorWalls",
							"sid": 199170767970379,
							"parameters": {
								"collisions": "disabled"
							}
						}
					],
					"sid": 713265925282751
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "compare-eventvar",
					"objectClass": "System",
					"sid": 925660607149046,
					"parameters": {
						"variable": "EnemyCount",
						"comparison": 3,
						"value": "22"
					}
				}
			],
			"actions": [],
			"sid": 251973676546942,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "DoorBlock",
							"sid": 212202122381654,
							"parameters": {
								"instance-variable": "Door",
								"comparison": 0,
								"value": "1"
							}
						}
					],
					"actions": [
						{
							"id": "set-collisions-enabled",
							"objectClass": "DoorBlock",
							"sid": 392962434080718,
							"parameters": {
								"collisions": "disabled"
							}
						}
					],
					"sid": 457616503204211
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "DoorWalls",
							"sid": 163409795359983,
							"parameters": {
								"instance-variable": "Door",
								"comparison": 0,
								"value": "1"
							}
						}
					],
					"actions": [
						{
							"id": "set-visible",
							"objectClass": "DoorWalls",
							"sid": 985848825490525,
							"parameters": {
								"visibility": "invisible"
							}
						},
						{
							"id": "set-collisions-enabled",
							"objectClass": "DoorWalls",
							"sid": 349784962691677,
							"parameters": {
								"collisions": "disabled"
							}
						}
					],
					"sid": 666960472192781
				}
			]
		}
	],
	"sid": 603949761274379
}